#pragma once
#include "physics.hpp"

namespace render_loop {

struct rendering
{
  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  // COMMANDS
  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

  struct start
  {};

  struct stop
  {};

  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  // EVENTS
  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

  struct started
  {};

  struct stopped
  {};

  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  // STATE
  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

  struct state_type
  {};

  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  // EXECUTE
  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

  static started execute(const state_type& state, const start&)
  {
    return started{};
  }

  static stopped execute(const state_type& state, const stop&)
  {
    return stopped{};
  }

  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  // APPLY
  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

  static state_type apply(const state_type& state, const started&)
  {
    return state;
  }

  static state_type apply(const state_type& state, const stopped&)
  {
    return state;
  }

  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
  // PROCESSES
  //////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

  static start process(const state_type&, const physics::stopped&)
  {
    return start{};
  }

  static stop process(const state_type&, const started&)
  {
    return stop{};
  }

  static input::collect process(const state_type&, const stopped&)
  {
    return input::collect{};
  }
};

}
